shadow$provide.module$node_modules$$supabase$auth_js$dist$main$lib$web3$ethereum = function(require, module, exports) {
  function getAddress(address) {
    if (!/^0x[a-fA-F0-9]{40}$/.test(address)) {
      throw Error(`@supabase/auth-js: Address "${address}" is invalid.`);
    }
    return address.toLowerCase();
  }
  Object.defineProperty(exports, "__esModule", {value:!0});
  exports.getAddress = getAddress;
  exports.fromHex = function(hex) {
    return parseInt(hex, 16);
  };
  exports.toHex = function(value) {
    value = (new TextEncoder()).encode(value);
    return "0x" + Array.from(value, byte => byte.toString(16).padStart(2, "0")).join("");
  };
  exports.createSiweMessage = function(parameters) {
    var _a;
    const {chainId, domain, expirationTime, issuedAt = new Date(), nonce, notBefore, requestId, resources, scheme, uri, version} = parameters;
    if (!Number.isInteger(chainId)) {
      throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${chainId}`);
    }
    if (!domain) {
      throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');
    }
    if (nonce && nonce.length < 8) {
      throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${nonce}`);
    }
    if (!uri) {
      throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');
    }
    if (version !== "1") {
      throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${version}`);
    }
    if ((_a = parameters.statement) === null || _a === void 0 ? 0 : _a.includes("\n")) {
      throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${parameters.statement}`);
    }
    _a = getAddress(parameters.address);
    parameters = `${scheme ? `${scheme}://${domain}` : domain} wants you to sign in with your Ethereum account:\n${_a}\n\n${parameters.statement ? `${parameters.statement}\n` : ""}`;
    _a = `URI: ${uri}\nVersion: ${version}\nChain ID: ${chainId}${nonce ? `\nNonce: ${nonce}` : ""}\nIssued At: ${issuedAt.toISOString()}`;
    expirationTime && (_a += `\nExpiration Time: ${expirationTime.toISOString()}`);
    notBefore && (_a += `\nNot Before: ${notBefore.toISOString()}`);
    requestId && (_a += `\nRequest ID: ${requestId}`);
    if (resources) {
      let content = "\nResources:";
      for (const resource of resources) {
        if (!resource || typeof resource !== "string") {
          throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${resource}`);
        }
        content += `\n- ${resource}`;
      }
      _a += content;
    }
    return `${parameters}\n${_a}`;
  };
};

//# sourceMappingURL=module$node_modules$$supabase$auth_js$dist$main$lib$web3$ethereum.js.map
