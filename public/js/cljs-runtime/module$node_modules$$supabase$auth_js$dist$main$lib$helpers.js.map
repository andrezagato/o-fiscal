{
"version":3,
"file":"module$node_modules$$supabase$auth_js$dist$main$lib$helpers.js",
"lineCount":225,
"mappings":"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",
"sources":["node_modules/@supabase/auth-js/dist/main/lib/helpers.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$supabase$auth_js$dist$main$lib$helpers\"] = function(require,module,exports) {\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Deferred = exports.removeItemAsync = exports.getItemAsync = exports.setItemAsync = exports.looksLikeFetchResponse = exports.resolveFetch = exports.supportsLocalStorage = exports.isBrowser = void 0;\r\nexports.expiresAt = expiresAt;\r\nexports.generateCallbackId = generateCallbackId;\r\nexports.parseParametersFromURL = parseParametersFromURL;\r\nexports.decodeJWT = decodeJWT;\r\nexports.sleep = sleep;\r\nexports.retryable = retryable;\r\nexports.generatePKCEVerifier = generatePKCEVerifier;\r\nexports.generatePKCEChallenge = generatePKCEChallenge;\r\nexports.getCodeChallengeAndMethod = getCodeChallengeAndMethod;\r\nexports.parseResponseAPIVersion = parseResponseAPIVersion;\r\nexports.validateExp = validateExp;\r\nexports.getAlgorithm = getAlgorithm;\r\nexports.validateUUID = validateUUID;\r\nexports.userNotAvailableProxy = userNotAvailableProxy;\r\nexports.insecureUserWarningProxy = insecureUserWarningProxy;\r\nexports.deepClone = deepClone;\r\nconst constants_1 = require(\"./constants\");\r\nconst errors_1 = require(\"./errors\");\r\nconst base64url_1 = require(\"./base64url\");\r\nfunction expiresAt(expiresIn) {\r\n    const timeNow = Math.round(Date.now() / 1000);\r\n    return timeNow + expiresIn;\r\n}\r\n/**\r\n * Generates a unique identifier for internal callback subscriptions.\r\n *\r\n * This function uses JavaScript Symbols to create guaranteed-unique identifiers\r\n * for auth state change callbacks. Symbols are ideal for this use case because:\r\n * - They are guaranteed unique by the JavaScript runtime\r\n * - They work in all environments (browser, SSR, Node.js)\r\n * - They avoid issues with Next.js 16 deterministic rendering requirements\r\n * - They are perfect for internal, non-serializable identifiers\r\n *\r\n * Note: This function is only used for internal subscription management,\r\n * not for security-critical operations like session tokens.\r\n */\r\nfunction generateCallbackId() {\r\n    return Symbol('auth-callback');\r\n}\r\nconst isBrowser = () => typeof window !== 'undefined' && typeof document !== 'undefined';\r\nexports.isBrowser = isBrowser;\r\nconst localStorageWriteTests = {\r\n    tested: false,\r\n    writable: false,\r\n};\r\n/**\r\n * Checks whether localStorage is supported on this browser.\r\n */\r\nconst supportsLocalStorage = () => {\r\n    if (!(0, exports.isBrowser)()) {\r\n        return false;\r\n    }\r\n    try {\r\n        if (typeof globalThis.localStorage !== 'object') {\r\n            return false;\r\n        }\r\n    }\r\n    catch (e) {\r\n        // DOM exception when accessing `localStorage`\r\n        return false;\r\n    }\r\n    if (localStorageWriteTests.tested) {\r\n        return localStorageWriteTests.writable;\r\n    }\r\n    const randomKey = `lswt-${Math.random()}${Math.random()}`;\r\n    try {\r\n        globalThis.localStorage.setItem(randomKey, randomKey);\r\n        globalThis.localStorage.removeItem(randomKey);\r\n        localStorageWriteTests.tested = true;\r\n        localStorageWriteTests.writable = true;\r\n    }\r\n    catch (e) {\r\n        // localStorage can't be written to\r\n        // https://www.chromium.org/for-testers/bug-reporting-guidelines/uncaught-securityerror-failed-to-read-the-localstorage-property-from-window-access-is-denied-for-this-document\r\n        localStorageWriteTests.tested = true;\r\n        localStorageWriteTests.writable = false;\r\n    }\r\n    return localStorageWriteTests.writable;\r\n};\r\nexports.supportsLocalStorage = supportsLocalStorage;\r\n/**\r\n * Extracts parameters encoded in the URL both in the query and fragment.\r\n */\r\nfunction parseParametersFromURL(href) {\r\n    const result = {};\r\n    const url = new URL(href);\r\n    if (url.hash && url.hash[0] === '#') {\r\n        try {\r\n            const hashSearchParams = new URLSearchParams(url.hash.substring(1));\r\n            hashSearchParams.forEach((value, key) => {\r\n                result[key] = value;\r\n            });\r\n        }\r\n        catch (e) {\r\n            // hash is not a query string\r\n        }\r\n    }\r\n    // search parameters take precedence over hash parameters\r\n    url.searchParams.forEach((value, key) => {\r\n        result[key] = value;\r\n    });\r\n    return result;\r\n}\r\nconst resolveFetch = (customFetch) => {\r\n    if (customFetch) {\r\n        return (...args) => customFetch(...args);\r\n    }\r\n    return (...args) => fetch(...args);\r\n};\r\nexports.resolveFetch = resolveFetch;\r\nconst looksLikeFetchResponse = (maybeResponse) => {\r\n    return (typeof maybeResponse === 'object' &&\r\n        maybeResponse !== null &&\r\n        'status' in maybeResponse &&\r\n        'ok' in maybeResponse &&\r\n        'json' in maybeResponse &&\r\n        typeof maybeResponse.json === 'function');\r\n};\r\nexports.looksLikeFetchResponse = looksLikeFetchResponse;\r\n// Storage helpers\r\nconst setItemAsync = async (storage, key, data) => {\r\n    await storage.setItem(key, JSON.stringify(data));\r\n};\r\nexports.setItemAsync = setItemAsync;\r\nconst getItemAsync = async (storage, key) => {\r\n    const value = await storage.getItem(key);\r\n    if (!value) {\r\n        return null;\r\n    }\r\n    try {\r\n        return JSON.parse(value);\r\n    }\r\n    catch (_a) {\r\n        return value;\r\n    }\r\n};\r\nexports.getItemAsync = getItemAsync;\r\nconst removeItemAsync = async (storage, key) => {\r\n    await storage.removeItem(key);\r\n};\r\nexports.removeItemAsync = removeItemAsync;\r\n/**\r\n * A deferred represents some asynchronous work that is not yet finished, which\r\n * may or may not culminate in a value.\r\n * Taken from: https://github.com/mike-north/types/blob/master/src/async.ts\r\n */\r\nclass Deferred {\r\n    constructor() {\r\n        // eslint-disable-next-line @typescript-eslint/no-extra-semi\r\n        ;\r\n        this.promise = new Deferred.promiseConstructor((res, rej) => {\r\n            // eslint-disable-next-line @typescript-eslint/no-extra-semi\r\n            ;\r\n            this.resolve = res;\r\n            this.reject = rej;\r\n        });\r\n    }\r\n}\r\nexports.Deferred = Deferred;\r\nDeferred.promiseConstructor = Promise;\r\nfunction decodeJWT(token) {\r\n    const parts = token.split('.');\r\n    if (parts.length !== 3) {\r\n        throw new errors_1.AuthInvalidJwtError('Invalid JWT structure');\r\n    }\r\n    // Regex checks for base64url format\r\n    for (let i = 0; i < parts.length; i++) {\r\n        if (!constants_1.BASE64URL_REGEX.test(parts[i])) {\r\n            throw new errors_1.AuthInvalidJwtError('JWT not in base64url format');\r\n        }\r\n    }\r\n    const data = {\r\n        // using base64url lib\r\n        header: JSON.parse((0, base64url_1.stringFromBase64URL)(parts[0])),\r\n        payload: JSON.parse((0, base64url_1.stringFromBase64URL)(parts[1])),\r\n        signature: (0, base64url_1.base64UrlToUint8Array)(parts[2]),\r\n        raw: {\r\n            header: parts[0],\r\n            payload: parts[1],\r\n        },\r\n    };\r\n    return data;\r\n}\r\n/**\r\n * Creates a promise that resolves to null after some time.\r\n */\r\nasync function sleep(time) {\r\n    return await new Promise((accept) => {\r\n        setTimeout(() => accept(null), time);\r\n    });\r\n}\r\n/**\r\n * Converts the provided async function into a retryable function. Each result\r\n * or thrown error is sent to the isRetryable function which should return true\r\n * if the function should run again.\r\n */\r\nfunction retryable(fn, isRetryable) {\r\n    const promise = new Promise((accept, reject) => {\r\n        // eslint-disable-next-line @typescript-eslint/no-extra-semi\r\n        ;\r\n        (async () => {\r\n            for (let attempt = 0; attempt < Infinity; attempt++) {\r\n                try {\r\n                    const result = await fn(attempt);\r\n                    if (!isRetryable(attempt, null, result)) {\r\n                        accept(result);\r\n                        return;\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    if (!isRetryable(attempt, e)) {\r\n                        reject(e);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        })();\r\n    });\r\n    return promise;\r\n}\r\nfunction dec2hex(dec) {\r\n    return ('0' + dec.toString(16)).substr(-2);\r\n}\r\n// Functions below taken from: https://stackoverflow.com/questions/63309409/creating-a-code-verifier-and-challenge-for-pkce-auth-on-spotify-api-in-reactjs\r\nfunction generatePKCEVerifier() {\r\n    const verifierLength = 56;\r\n    const array = new Uint32Array(verifierLength);\r\n    if (typeof crypto === 'undefined') {\r\n        const charSet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~';\r\n        const charSetLen = charSet.length;\r\n        let verifier = '';\r\n        for (let i = 0; i < verifierLength; i++) {\r\n            verifier += charSet.charAt(Math.floor(Math.random() * charSetLen));\r\n        }\r\n        return verifier;\r\n    }\r\n    crypto.getRandomValues(array);\r\n    return Array.from(array, dec2hex).join('');\r\n}\r\nasync function sha256(randomString) {\r\n    const encoder = new TextEncoder();\r\n    const encodedData = encoder.encode(randomString);\r\n    const hash = await crypto.subtle.digest('SHA-256', encodedData);\r\n    const bytes = new Uint8Array(hash);\r\n    return Array.from(bytes)\r\n        .map((c) => String.fromCharCode(c))\r\n        .join('');\r\n}\r\nasync function generatePKCEChallenge(verifier) {\r\n    const hasCryptoSupport = typeof crypto !== 'undefined' &&\r\n        typeof crypto.subtle !== 'undefined' &&\r\n        typeof TextEncoder !== 'undefined';\r\n    if (!hasCryptoSupport) {\r\n        console.warn('WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.');\r\n        return verifier;\r\n    }\r\n    const hashed = await sha256(verifier);\r\n    return btoa(hashed).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\r\n}\r\nasync function getCodeChallengeAndMethod(storage, storageKey, isPasswordRecovery = false) {\r\n    const codeVerifier = generatePKCEVerifier();\r\n    let storedCodeVerifier = codeVerifier;\r\n    if (isPasswordRecovery) {\r\n        storedCodeVerifier += '/PASSWORD_RECOVERY';\r\n    }\r\n    await (0, exports.setItemAsync)(storage, `${storageKey}-code-verifier`, storedCodeVerifier);\r\n    const codeChallenge = await generatePKCEChallenge(codeVerifier);\r\n    const codeChallengeMethod = codeVerifier === codeChallenge ? 'plain' : 's256';\r\n    return [codeChallenge, codeChallengeMethod];\r\n}\r\n/** Parses the API version which is 2YYY-MM-DD. */\r\nconst API_VERSION_REGEX = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;\r\nfunction parseResponseAPIVersion(response) {\r\n    const apiVersion = response.headers.get(constants_1.API_VERSION_HEADER_NAME);\r\n    if (!apiVersion) {\r\n        return null;\r\n    }\r\n    if (!apiVersion.match(API_VERSION_REGEX)) {\r\n        return null;\r\n    }\r\n    try {\r\n        const date = new Date(`${apiVersion}T00:00:00.0Z`);\r\n        return date;\r\n    }\r\n    catch (e) {\r\n        return null;\r\n    }\r\n}\r\nfunction validateExp(exp) {\r\n    if (!exp) {\r\n        throw new Error('Missing exp claim');\r\n    }\r\n    const timeNow = Math.floor(Date.now() / 1000);\r\n    if (exp <= timeNow) {\r\n        throw new Error('JWT has expired');\r\n    }\r\n}\r\nfunction getAlgorithm(alg) {\r\n    switch (alg) {\r\n        case 'RS256':\r\n            return {\r\n                name: 'RSASSA-PKCS1-v1_5',\r\n                hash: { name: 'SHA-256' },\r\n            };\r\n        case 'ES256':\r\n            return {\r\n                name: 'ECDSA',\r\n                namedCurve: 'P-256',\r\n                hash: { name: 'SHA-256' },\r\n            };\r\n        default:\r\n            throw new Error('Invalid alg claim');\r\n    }\r\n}\r\nconst UUID_REGEX = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;\r\nfunction validateUUID(str) {\r\n    if (!UUID_REGEX.test(str)) {\r\n        throw new Error('@supabase/auth-js: Expected parameter to be UUID but is not');\r\n    }\r\n}\r\nfunction userNotAvailableProxy() {\r\n    const proxyTarget = {};\r\n    return new Proxy(proxyTarget, {\r\n        get: (target, prop) => {\r\n            if (prop === '__isUserNotAvailableProxy') {\r\n                return true;\r\n            }\r\n            // Preventative check for common problematic symbols during cloning/inspection\r\n            // These symbols might be accessed by structuredClone or other internal mechanisms.\r\n            if (typeof prop === 'symbol') {\r\n                const sProp = prop.toString();\r\n                if (sProp === 'Symbol(Symbol.toPrimitive)' ||\r\n                    sProp === 'Symbol(Symbol.toStringTag)' ||\r\n                    sProp === 'Symbol(util.inspect.custom)') {\r\n                    // Node.js util.inspect\r\n                    return undefined;\r\n                }\r\n            }\r\n            throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the \"${prop}\" property of the session object is not supported. Please use getUser() instead.`);\r\n        },\r\n        set: (_target, prop) => {\r\n            throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the \"${prop}\" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`);\r\n        },\r\n        deleteProperty: (_target, prop) => {\r\n            throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the \"${prop}\" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`);\r\n        },\r\n    });\r\n}\r\n/**\r\n * Creates a proxy around a user object that warns when properties are accessed on the server.\r\n * This is used to alert developers that using user data from getSession() on the server is insecure.\r\n *\r\n * @param user The actual user object to wrap\r\n * @param suppressWarningRef An object with a 'value' property that controls warning suppression\r\n * @returns A proxied user object that warns on property access\r\n */\r\nfunction insecureUserWarningProxy(user, suppressWarningRef) {\r\n    return new Proxy(user, {\r\n        get: (target, prop, receiver) => {\r\n            // Allow internal checks without warning\r\n            if (prop === '__isInsecureUserWarningProxy') {\r\n                return true;\r\n            }\r\n            // Preventative check for common problematic symbols during cloning/inspection\r\n            // These symbols might be accessed by structuredClone or other internal mechanisms\r\n            if (typeof prop === 'symbol') {\r\n                const sProp = prop.toString();\r\n                if (sProp === 'Symbol(Symbol.toPrimitive)' ||\r\n                    sProp === 'Symbol(Symbol.toStringTag)' ||\r\n                    sProp === 'Symbol(util.inspect.custom)' ||\r\n                    sProp === 'Symbol(nodejs.util.inspect.custom)') {\r\n                    // Return the actual value for these symbols to allow proper inspection\r\n                    return Reflect.get(target, prop, receiver);\r\n                }\r\n            }\r\n            // Emit warning on first property access\r\n            if (!suppressWarningRef.value && typeof prop === 'string') {\r\n                console.warn('Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.');\r\n                suppressWarningRef.value = true;\r\n            }\r\n            return Reflect.get(target, prop, receiver);\r\n        },\r\n    });\r\n}\r\n/**\r\n * Deep clones a JSON-serializable object using JSON.parse(JSON.stringify(obj)).\r\n * Note: Only works for JSON-safe data.\r\n */\r\nfunction deepClone(obj) {\r\n    return JSON.parse(JSON.stringify(obj));\r\n}\r\n//# sourceMappingURL=helpers.js.map\n};"],
"names":["shadow$provide","require","module","exports","dec2hex","dec","substr","toString","generatePKCEVerifier","array","Uint32Array","verifierLength","crypto","verifier","i","charSet","charAt","Math","floor","random","length","getRandomValues","Array","from","join","sha256","randomString","encodedData","encode","encoder","TextEncoder","hash","subtle","digest","bytes","Uint8Array","map","c","String","fromCharCode","generatePKCEChallenge","console","warn","hashed","btoa","replace","Object","defineProperty","value","Deferred","removeItemAsync","getItemAsync","setItemAsync","looksLikeFetchResponse","resolveFetch","supportsLocalStorage","isBrowser","expiresAt","expiresIn","round","timeNow","Date","now","generateCallbackId","Symbol","parseParametersFromURL","href","result","url","URL","forEach","hashSearchParams","URLSearchParams","substring","key","e","searchParams","decodeJWT","token","parts","split","errors_1","AuthInvalidJwtError","constants_1","BASE64URL_REGEX","test","data","header","JSON","parse","base64url_1","stringFromBase64URL","payload","signature","base64UrlToUint8Array","raw","sleep","time","Promise","accept","setTimeout","retryable","fn","isRetryable","promise","reject","attempt","Infinity","getCodeChallengeAndMethod","storage","storageKey","isPasswordRecovery","codeVerifier","storedCodeVerifier","codeChallenge","codeChallengeMethod","parseResponseAPIVersion","response","apiVersion","headers","get","API_VERSION_HEADER_NAME","match","API_VERSION_REGEX","date","validateExp","exp","Error","getAlgorithm","alg","name","namedCurve","validateUUID","str","UUID_REGEX","userNotAvailableProxy","Proxy","proxyTarget","target","prop","sProp","set","_target","deleteProperty","insecureUserWarningProxy","user","suppressWarningRef","receiver","Reflect","deepClone","obj","stringify","window","document","globalThis","localStorage","tested","writable","randomKey","setItem","removeItem","customFetch","args","fetch","maybeResponse","json","getItem","_a","constructor","promiseConstructor","res","rej","resolve"]
}
