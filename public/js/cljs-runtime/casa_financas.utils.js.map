{"version":3,"sources":["casa_financas/utils.cljs"],"mappings":";AAGA,kCAAA,oFAAA,GAAA,UAAA,YAAA,aAAA,QAAA,OAAA,QAAA,QAAA,SAAA,WAAA,UAAA,WAAA,pOAAKA;AAIL,+BAAA,/BAAMC,sEAAUC;AAAhB,AACE,qFAAA,9EAACC,4CAAIH,gCAAYE;;AAEnB,wCAAA,xCAAME,wFAAmBC;AAAzB,AACE,IAAMC,YAAU,AAAiB,iBAAAC,mBAAIF;AAAJ,AAAA,oBAAAE;AAAAA;;AAAA;;oBAAjB,QAAA,2BAAA,8BAAA;AAAhB,AAGE,WAAA,kDAAWD;;AAEf,+BAAA,/BAAME;AAAN,AACE,OAAU,KAAAC;;AAEZ,+BAAA,/BAAMC;AAAN,AACE,kCAAA,1BAAK,AAAW,KAAAD;;AAElB,+BAAA,/BAAME;AAAN,AACE,OAAc,KAAAF;;AAEhB,qCAAA,rCAAMG,kFAAgBC;AAAtB,AACE,oBACE,AAAA,iFAAOA;AADT;;AAAA,GAEE,CAAG,AAAA,+FAAaA,WAAS,AAACL;AAF5B;;AAAA,AAAA;;;;;AAKF,iCAAA,jCAAMM,0EAAYC;AAAlB,AACE,IAAAC,WAAMD;IAANC,eAAA,EAAA,CAAAA,oBAAAC,oBAAA,AAAAD,aAAA;AAAA,AAAA,QAAAA;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;;AAAA,MAAA,KAAAE,MAAA,IAAA,mEAAAF;;;;AAKF,AAAKG,oCAAc,gDAAA,2CAAA,YAAA,UAAA,aAAA,UAAA,eAAA,UAAA,YAAA,7KAACC;AAKpB,wCAAA,xCAAMC,wFAAcC;AAApB,AACE,OAACC,sBAAOJ,kCAAcG;;AAExB,iCAAA,jCAAME,0EAAYC;AAAlB,AACE,IAAAC,WAAMD;AAAN,AAAA,QAAAC;KAAA;AAAA;;;;AAEE,mDAAA,AAAAC,5CAACxB,4DAAKgB,mCAAc,IAAA,mDAAYM,YAC3B,iBAAAG,WAAMH;AAAN,AAAA,QAAAG;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;;AAAA;;;;;;;AAOT,kCAAA,lCAAMC,4EAAaJ;AAAnB,AACE,IAAAK,WAAML;AAAN,AAAA,QAAAK;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;;AAAA;;;;AAQF,qCAAA,rCAAMC,kFAAgBN;AAAtB,AACE,IAAAO,WAAMP;AAAN,AAAA,QAAAO;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;;AAAA;;;;AAQF,+BAAA,/BAAMC;AAAN,AACE,uDAAK,AAACC;;AAER,qCAAA,rCAAMC;AAAN,AAAA,kDAAA,sDAAA,KAAA,wDAAA,KAAA,6DAAA,KAAA,uDAAA;;AAGA,mCAAA,nCAAMC,8EAAcC;AAApB,AACE,uEAAA,hEAACC,+CAAOC,qBAAI,AAACC,eAAKH;;AAEpB,iCAAA,jCAAMI,0EAAYC,IAAIC,IAAIC;AAA1B,AACE,GAAI,QAAA,PAAIF;AAAR,kDAAA,uDAAA,sDAAA,oEAAA,9HACQC,sDAASC,oEAAgBD,qEAAgBC;;AAC/C,GAAI,iDAAA,jDAACC,6CAAEF;AAAP,kDAAA,mDAAA,IAAA,8DAAA,oEAAA,hFACe,OAAA,NAAKC,2EAAiBD,qEAAgBC;;AADrD,kDAAA,+DAAA,sDAAA,oEAAA,tIAEQ,OAAA,NAAKD,6DAAUC,oEAAgBD,qEAAgBC","names":["casa-financas.utils/meses-nomes","casa-financas.utils/mes-nome","m","cljs.core.get","casa-financas.utils/formatar-valor-br","v","formatted","or__5142__auto__","casa-financas.utils/dia-hoje","js/Date","casa-financas.utils/mes-hoje","casa-financas.utils/ano-hoje","casa-financas.utils/despesa-status","despesa","casa-financas.utils/status-cor","status","G__25852","cljs.core/Keyword","js/Error","casa-financas.utils/cores-pessoas","reagent.core.atom","casa-financas.utils/reset-cores!","configs","cljs.core/reset!","casa-financas.utils/pessoa-cor","pessoa-id","G__25857","cljs.core/deref","G__25858","casa-financas.utils/pessoa-nome","G__25859","casa-financas.utils/pessoa-inicial","G__25861","casa-financas.utils/gerar-id","cljs.core/random-uuid","casa-financas.utils/divisao-padrao","casa-financas.utils/soma-divisao","divisao","cljs.core.reduce","cljs.core/+","cljs.core/vals","casa-financas.utils/mes-fatura","dia","mes","ano","cljs.core._EQ_"],"sourcesContent":["(ns casa-financas.utils\n  (:require [reagent.core :as r]))\n\n(def meses-nomes\n  [\"\" \"Janeiro\" \"Fevereiro\" \"Mar\u00e7o\" \"Abril\" \"Maio\" \"Junho\"\n   \"Julho\" \"Agosto\" \"Setembro\" \"Outubro\" \"Novembro\" \"Dezembro\"])\n\n(defn mes-nome [m]\n  (get meses-nomes m \"\"))\n\n(defn formatar-valor-br [v]\n  (let [formatted (.toLocaleString (or v 0) \"pt-BR\"\n                                   #js {:minimumFractionDigits 2\n                                        :maximumFractionDigits 2})]\n    (str \"R$ \" formatted)))\n\n(defn dia-hoje []\n  (.getDate (js/Date.)))\n\n(defn mes-hoje []\n  (inc (.getMonth (js/Date.))))\n\n(defn ano-hoje []\n  (.getFullYear (js/Date.)))\n\n(defn despesa-status [despesa]\n  (cond\n    (:pago despesa) :paga\n    (< (:dia_do_mes despesa) (dia-hoje)) :vencida\n    :else :pendente))\n\n(defn status-cor [status]\n  (case status\n    :paga     \"bg-green-50 border-green-200\"\n    :vencida  \"bg-red-50 border-red-200\"\n    :pendente \"bg-amber-50 border-amber-200\"))\n\n(def cores-pessoas (r/atom {\"cor_andre\"    \"#3B82F6\"\n                                \"cor_bianca\"   \"#EC4899\"\n                                \"cor_fernanda\" \"#14B8A6\"\n                                \"cor_bruna\"    \"#F97316\"}))\n\n(defn reset-cores! [configs]\n  (reset! cores-pessoas configs))\n\n(defn pessoa-cor [pessoa-id]\n  (case pessoa-id\n    \"conjunta\" \"#8B5CF6\"\n    (get @cores-pessoas (str \"cor_\" pessoa-id)\n         (case pessoa-id\n           \"andre\"    \"#3B82F6\"\n           \"bianca\"   \"#EC4899\"\n           \"fernanda\" \"#14B8A6\"\n           \"bruna\"    \"#F97316\"\n           \"#9CA3AF\"))))\n\n(defn pessoa-nome [pessoa-id]\n  (case pessoa-id\n    \"andre\"    \"Andr\u00e9\"\n    \"bianca\"   \"Bianca\"\n    \"fernanda\" \"Fernanda\"\n    \"bruna\"    \"Bruna\"\n    \"conjunta\" \"Conta Conjunta\"\n    \"?\"))\n\n(defn pessoa-inicial [pessoa-id]\n  (case pessoa-id\n    \"andre\"    \"A\"\n    \"bianca\"   \"Bi\"\n    \"fernanda\" \"F\"\n    \"bruna\"    \"Br\"\n    \"conjunta\" \"CC\"\n    \"?\"))\n\n(defn gerar-id []\n  (str (random-uuid)))\n\n(defn divisao-padrao []\n  {:andre 25 :bianca 25 :fernanda 25 :bruna 25})\n\n(defn soma-divisao [divisao]\n  (reduce + 0 (vals divisao)))\n\n(defn mes-fatura [dia mes ano]\n  (if (<= dia 15)\n    {:mes mes :ano ano :mes_compra mes :ano_compra ano}\n    (if (= mes 12)\n      {:mes 1 :ano (inc ano) :mes_compra mes :ano_compra ano}\n      {:mes (inc mes) :ano ano :mes_compra mes :ano_compra ano})))"]}