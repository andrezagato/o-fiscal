["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@supabase/realtime-js/dist/main/lib/websocket-factory.js"],"~:js","shadow$provide.module$node_modules$$supabase$realtime_js$dist$main$lib$websocket_factory = function(require, module, exports, global) {\n  Object.defineProperty(exports, \"__esModule\", {value:!0});\n  exports.WebSocketFactory = void 0;\n  class WebSocketFactory {\n    constructor() {\n    }\n    static detectEnvironment() {\n      var _a;\n      return typeof WebSocket !== \"undefined\" ? {type:\"native\", constructor:WebSocket} : typeof globalThis !== \"undefined\" && typeof globalThis.WebSocket !== \"undefined\" ? {type:\"native\", constructor:globalThis.WebSocket} : typeof global !== \"undefined\" && typeof global.WebSocket !== \"undefined\" ? {type:\"native\", constructor:global.WebSocket} : typeof globalThis !== \"undefined\" && typeof globalThis.WebSocketPair !== \"undefined\" && typeof globalThis.WebSocket === \"undefined\" ? {type:\"cloudflare\", \n      error:\"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.\", workaround:\"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.\"} : typeof globalThis !== \"undefined\" && globalThis.EdgeRuntime || typeof navigator !== \"undefined\" && ((_a = navigator.userAgent) === null || _a === void 0 ? 0 : _a.includes(\"Vercel-Edge\")) ? {type:\"unsupported\", error:\"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.\", \n      workaround:\"Use serverless functions or a different deployment target for WebSocket functionality.\"} : (_a = globalThis.process) && (_a = _a.versions) && _a.node ? (_a = parseInt(_a.node.replace(/^v/, \"\").split(\".\")[0]), _a >= 22 ? typeof globalThis.WebSocket !== \"undefined\" ? {type:\"native\", constructor:globalThis.WebSocket} : {type:\"unsupported\", error:`Node.js ${_a} detected but native WebSocket not found.`, workaround:\"Provide a WebSocket implementation via the transport option.\"} : {type:\"unsupported\", \n      error:`Node.js ${_a} detected without native WebSocket support.`, workaround:'For Node.js \\x3c 22, install \"ws\" package and provide it via the transport option:\\nimport ws from \"ws\"\\nnew RealtimeClient(url, { transport: ws })'}) : {type:\"unsupported\", error:\"Unknown JavaScript runtime without WebSocket support.\", workaround:\"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\"};\n    }\n    static getWebSocketConstructor() {\n      const env = this.detectEnvironment();\n      if (env.constructor) {\n        return env.constructor;\n      }\n      let errorMessage = env.error || \"WebSocket not supported in this environment.\";\n      env.workaround && (errorMessage += `\\n\\nSuggested solution: ${env.workaround}`);\n      throw Error(errorMessage);\n    }\n    static createWebSocket(url, protocols) {\n      return new (this.getWebSocketConstructor())(url, protocols);\n    }\n    static isWebSocketSupported() {\n      try {\n        const env = this.detectEnvironment();\n        return env.type === \"native\" || env.type === \"ws\";\n      } catch (_a) {\n        return !1;\n      }\n    }\n  }\n  exports.WebSocketFactory = WebSocketFactory;\n  exports.default = WebSocketFactory;\n};\n","~:source","shadow$provide[\"module$node_modules$$supabase$realtime_js$dist$main$lib$websocket_factory\"] = function(require,module,exports,global) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebSocketFactory = void 0;\n/**\n * Utilities for creating WebSocket instances across runtimes.\n */\nclass WebSocketFactory {\n    /**\n     * Static-only utility â€“ prevent instantiation.\n     */\n    constructor() { }\n    static detectEnvironment() {\n        var _a;\n        if (typeof WebSocket !== 'undefined') {\n            return { type: 'native', constructor: WebSocket };\n        }\n        if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\n            return { type: 'native', constructor: globalThis.WebSocket };\n        }\n        if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\n            return { type: 'native', constructor: global.WebSocket };\n        }\n        if (typeof globalThis !== 'undefined' &&\n            typeof globalThis.WebSocketPair !== 'undefined' &&\n            typeof globalThis.WebSocket === 'undefined') {\n            return {\n                type: 'cloudflare',\n                error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\n                workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.',\n            };\n        }\n        if ((typeof globalThis !== 'undefined' && globalThis.EdgeRuntime) ||\n            (typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.includes('Vercel-Edge')))) {\n            return {\n                type: 'unsupported',\n                error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\n                workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.',\n            };\n        }\n        // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\n        const _process = globalThis['process'];\n        if (_process) {\n            const processVersions = _process['versions'];\n            if (processVersions && processVersions['node']) {\n                // Remove 'v' prefix if present and parse the major version\n                const versionString = processVersions['node'];\n                const nodeVersion = parseInt(versionString.replace(/^v/, '').split('.')[0]);\n                // Node.js 22+ should have native WebSocket\n                if (nodeVersion >= 22) {\n                    // Check if native WebSocket is available (should be in Node.js 22+)\n                    if (typeof globalThis.WebSocket !== 'undefined') {\n                        return { type: 'native', constructor: globalThis.WebSocket };\n                    }\n                    // If not available, user needs to provide it\n                    return {\n                        type: 'unsupported',\n                        error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\n                        workaround: 'Provide a WebSocket implementation via the transport option.',\n                    };\n                }\n                // Node.js < 22 doesn't have native WebSocket\n                return {\n                    type: 'unsupported',\n                    error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\n                    workaround: 'For Node.js < 22, install \"ws\" package and provide it via the transport option:\\n' +\n                        'import ws from \"ws\"\\n' +\n                        'new RealtimeClient(url, { transport: ws })',\n                };\n            }\n        }\n        return {\n            type: 'unsupported',\n            error: 'Unknown JavaScript runtime without WebSocket support.',\n            workaround: \"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\",\n        };\n    }\n    /**\n     * Returns the best available WebSocket constructor for the current runtime.\n     *\n     * @example\n     * ```ts\n     * const WS = WebSocketFactory.getWebSocketConstructor()\n     * const socket = new WS('wss://realtime.supabase.co/socket')\n     * ```\n     */\n    static getWebSocketConstructor() {\n        const env = this.detectEnvironment();\n        if (env.constructor) {\n            return env.constructor;\n        }\n        let errorMessage = env.error || 'WebSocket not supported in this environment.';\n        if (env.workaround) {\n            errorMessage += `\\n\\nSuggested solution: ${env.workaround}`;\n        }\n        throw new Error(errorMessage);\n    }\n    /**\n     * Creates a WebSocket using the detected constructor.\n     *\n     * @example\n     * ```ts\n     * const socket = WebSocketFactory.createWebSocket('wss://realtime.supabase.co/socket')\n     * ```\n     */\n    static createWebSocket(url, protocols) {\n        const WS = this.getWebSocketConstructor();\n        return new WS(url, protocols);\n    }\n    /**\n     * Detects whether the runtime can establish WebSocket connections.\n     *\n     * @example\n     * ```ts\n     * if (!WebSocketFactory.isWebSocketSupported()) {\n     *   console.warn('Falling back to long polling')\n     * }\n     * ```\n     */\n    static isWebSocketSupported() {\n        try {\n            const env = this.detectEnvironment();\n            return env.type === 'native' || env.type === 'ws';\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n}\nexports.WebSocketFactory = WebSocketFactory;\nexports.default = WebSocketFactory;\n//# sourceMappingURL=websocket-factory.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js"]],"~:properties",["^5",["__esModule","error","value","workaround","type","WebSocketFactory","default","constructor"]],"~:compiled-at",1771644653443,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$supabase$realtime_js$dist$main$lib$websocket_factory.js\",\n\"lineCount\":38,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@supabase/realtime-js/dist/main/lib/websocket-factory.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$supabase$realtime_js$dist$main$lib$websocket_factory\\\"] = function(require,module,exports,global) {\\n\\\"use strict\\\";\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.WebSocketFactory = void 0;\\n/**\\n * Utilities for creating WebSocket instances across runtimes.\\n */\\nclass WebSocketFactory {\\n    /**\\n     * Static-only utility \\u2013 prevent instantiation.\\n     */\\n    constructor() { }\\n    static detectEnvironment() {\\n        var _a;\\n        if (typeof WebSocket !== 'undefined') {\\n            return { type: 'native', constructor: WebSocket };\\n        }\\n        if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\\n            return { type: 'native', constructor: globalThis.WebSocket };\\n        }\\n        if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\\n            return { type: 'native', constructor: global.WebSocket };\\n        }\\n        if (typeof globalThis !== 'undefined' &&\\n            typeof globalThis.WebSocketPair !== 'undefined' &&\\n            typeof globalThis.WebSocket === 'undefined') {\\n            return {\\n                type: 'cloudflare',\\n                error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\\n                workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.',\\n            };\\n        }\\n        if ((typeof globalThis !== 'undefined' && globalThis.EdgeRuntime) ||\\n            (typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.includes('Vercel-Edge')))) {\\n            return {\\n                type: 'unsupported',\\n                error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\\n                workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.',\\n            };\\n        }\\n        // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\\n        const _process = globalThis['process'];\\n        if (_process) {\\n            const processVersions = _process['versions'];\\n            if (processVersions && processVersions['node']) {\\n                // Remove 'v' prefix if present and parse the major version\\n                const versionString = processVersions['node'];\\n                const nodeVersion = parseInt(versionString.replace(/^v/, '').split('.')[0]);\\n                // Node.js 22+ should have native WebSocket\\n                if (nodeVersion >= 22) {\\n                    // Check if native WebSocket is available (should be in Node.js 22+)\\n                    if (typeof globalThis.WebSocket !== 'undefined') {\\n                        return { type: 'native', constructor: globalThis.WebSocket };\\n                    }\\n                    // If not available, user needs to provide it\\n                    return {\\n                        type: 'unsupported',\\n                        error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\\n                        workaround: 'Provide a WebSocket implementation via the transport option.',\\n                    };\\n                }\\n                // Node.js < 22 doesn't have native WebSocket\\n                return {\\n                    type: 'unsupported',\\n                    error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\\n                    workaround: 'For Node.js < 22, install \\\"ws\\\" package and provide it via the transport option:\\\\n' +\\n                        'import ws from \\\"ws\\\"\\\\n' +\\n                        'new RealtimeClient(url, { transport: ws })',\\n                };\\n            }\\n        }\\n        return {\\n            type: 'unsupported',\\n            error: 'Unknown JavaScript runtime without WebSocket support.',\\n            workaround: \\\"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\\\",\\n        };\\n    }\\n    /**\\n     * Returns the best available WebSocket constructor for the current runtime.\\n     *\\n     * @example\\n     * ```ts\\n     * const WS = WebSocketFactory.getWebSocketConstructor()\\n     * const socket = new WS('wss://realtime.supabase.co/socket')\\n     * ```\\n     */\\n    static getWebSocketConstructor() {\\n        const env = this.detectEnvironment();\\n        if (env.constructor) {\\n            return env.constructor;\\n        }\\n        let errorMessage = env.error || 'WebSocket not supported in this environment.';\\n        if (env.workaround) {\\n            errorMessage += `\\\\n\\\\nSuggested solution: ${env.workaround}`;\\n        }\\n        throw new Error(errorMessage);\\n    }\\n    /**\\n     * Creates a WebSocket using the detected constructor.\\n     *\\n     * @example\\n     * ```ts\\n     * const socket = WebSocketFactory.createWebSocket('wss://realtime.supabase.co/socket')\\n     * ```\\n     */\\n    static createWebSocket(url, protocols) {\\n        const WS = this.getWebSocketConstructor();\\n        return new WS(url, protocols);\\n    }\\n    /**\\n     * Detects whether the runtime can establish WebSocket connections.\\n     *\\n     * @example\\n     * ```ts\\n     * if (!WebSocketFactory.isWebSocketSupported()) {\\n     *   console.warn('Falling back to long polling')\\n     * }\\n     * ```\\n     */\\n    static isWebSocketSupported() {\\n        try {\\n            const env = this.detectEnvironment();\\n            return env.type === 'native' || env.type === 'ws';\\n        }\\n        catch (_a) {\\n            return false;\\n        }\\n    }\\n}\\nexports.WebSocketFactory = WebSocketFactory;\\nexports.default = WebSocketFactory;\\n//# sourceMappingURL=websocket-factory.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"require\",\"module\",\"exports\",\"global\",\"Object\",\"defineProperty\",\"value\",\"WebSocketFactory\",\"constructor\",\"detectEnvironment\",\"_a\",\"WebSocket\",\"type\",\"globalThis\",\"WebSocketPair\",\"error\",\"workaround\",\"EdgeRuntime\",\"navigator\",\"userAgent\",\"includes\",\"_process\",\"processVersions\",\"nodeVersion\",\"parseInt\",\"versionString\",\"replace\",\"split\",\"getWebSocketConstructor\",\"env\",\"errorMessage\",\"Error\",\"createWebSocket\",\"url\",\"protocols\",\"WS\",\"isWebSocketSupported\",\"default\"]\n}\n"]