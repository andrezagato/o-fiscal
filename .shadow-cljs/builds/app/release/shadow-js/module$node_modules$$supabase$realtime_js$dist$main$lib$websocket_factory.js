["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@supabase/realtime-js/dist/main/lib/websocket-factory.js"],"~:js","shadow$provide[20]=function(S,ka,a,I){Object.defineProperty(a,\"__esModule\",{value:!0});a.WebSocketFactory=void 0;class q{constructor(){}static detectEnvironment(){var D;return typeof WebSocket!==\"undefined\"?{type:\"native\",constructor:WebSocket}:typeof globalThis!==\"undefined\"&&typeof globalThis.WebSocket!==\"undefined\"?{type:\"native\",constructor:globalThis.WebSocket}:typeof I!==\"undefined\"&&typeof I.WebSocket!==\"undefined\"?{type:\"native\",constructor:I.WebSocket}:typeof globalThis!==\"undefined\"&&typeof globalThis.WebSocketPair!==\n\"undefined\"&&typeof globalThis.WebSocket===\"undefined\"?{type:\"cloudflare\",error:\"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.\",workaround:\"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.\"}:typeof globalThis!==\"undefined\"&&globalThis.EdgeRuntime||typeof navigator!==\"undefined\"&&((D=navigator.userAgent)===null||D===void 0?0:D.includes(\"Vercel-Edge\"))?{type:\"unsupported\",error:\"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.\",\nworkaround:\"Use serverless functions or a different deployment target for WebSocket functionality.\"}:(D=globalThis.process)&&(D=D.versions)&&D.node?(D=parseInt(D.node.replace(/^v/,\"\").split(\".\")[0]),D>=22?typeof globalThis.WebSocket!==\"undefined\"?{type:\"native\",constructor:globalThis.WebSocket}:{type:\"unsupported\",error:`Node.js ${D} detected but native WebSocket not found.`,workaround:\"Provide a WebSocket implementation via the transport option.\"}:{type:\"unsupported\",error:`Node.js ${D} detected without native WebSocket support.`,\nworkaround:'For Node.js \\x3c 22, install \"ws\" package and provide it via the transport option:\\nimport ws from \"ws\"\\nnew RealtimeClient(url, { transport: ws })'}):{type:\"unsupported\",error:\"Unknown JavaScript runtime without WebSocket support.\",workaround:\"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\"}}static getWebSocketConstructor(){const D=this.detectEnvironment();if(D.constructor)return D.constructor;let C=D.error||\"WebSocket not supported in this environment.\";\nD.workaround&&(C+=`\\n\\nSuggested solution: ${D.workaround}`);throw Error(C);}static createWebSocket(D,C){return new (this.getWebSocketConstructor())(D,C)}static isWebSocketSupported(){try{const D=this.detectEnvironment();return D.type===\"native\"||D.type===\"ws\"}catch(D){return!1}}}a.WebSocketFactory=q;a.default=q}","~:source","shadow$provide[20] = function(require,module,exports,global) {\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebSocketFactory = void 0;\r\n/**\r\n * Utilities for creating WebSocket instances across runtimes.\r\n */\r\nclass WebSocketFactory {\r\n    /**\r\n     * Static-only utility â€“ prevent instantiation.\r\n     */\r\n    constructor() { }\r\n    static detectEnvironment() {\r\n        var _a;\r\n        if (typeof WebSocket !== 'undefined') {\r\n            return { type: 'native', constructor: WebSocket };\r\n        }\r\n        if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\r\n            return { type: 'native', constructor: globalThis.WebSocket };\r\n        }\r\n        if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\r\n            return { type: 'native', constructor: global.WebSocket };\r\n        }\r\n        if (typeof globalThis !== 'undefined' &&\r\n            typeof globalThis.WebSocketPair !== 'undefined' &&\r\n            typeof globalThis.WebSocket === 'undefined') {\r\n            return {\r\n                type: 'cloudflare',\r\n                error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\r\n                workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.',\r\n            };\r\n        }\r\n        if ((typeof globalThis !== 'undefined' && globalThis.EdgeRuntime) ||\r\n            (typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.includes('Vercel-Edge')))) {\r\n            return {\r\n                type: 'unsupported',\r\n                error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\r\n                workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.',\r\n            };\r\n        }\r\n        // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\r\n        const _process = globalThis['process'];\r\n        if (_process) {\r\n            const processVersions = _process['versions'];\r\n            if (processVersions && processVersions['node']) {\r\n                // Remove 'v' prefix if present and parse the major version\r\n                const versionString = processVersions['node'];\r\n                const nodeVersion = parseInt(versionString.replace(/^v/, '').split('.')[0]);\r\n                // Node.js 22+ should have native WebSocket\r\n                if (nodeVersion >= 22) {\r\n                    // Check if native WebSocket is available (should be in Node.js 22+)\r\n                    if (typeof globalThis.WebSocket !== 'undefined') {\r\n                        return { type: 'native', constructor: globalThis.WebSocket };\r\n                    }\r\n                    // If not available, user needs to provide it\r\n                    return {\r\n                        type: 'unsupported',\r\n                        error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\r\n                        workaround: 'Provide a WebSocket implementation via the transport option.',\r\n                    };\r\n                }\r\n                // Node.js < 22 doesn't have native WebSocket\r\n                return {\r\n                    type: 'unsupported',\r\n                    error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\r\n                    workaround: 'For Node.js < 22, install \"ws\" package and provide it via the transport option:\\n' +\r\n                        'import ws from \"ws\"\\n' +\r\n                        'new RealtimeClient(url, { transport: ws })',\r\n                };\r\n            }\r\n        }\r\n        return {\r\n            type: 'unsupported',\r\n            error: 'Unknown JavaScript runtime without WebSocket support.',\r\n            workaround: \"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\",\r\n        };\r\n    }\r\n    /**\r\n     * Returns the best available WebSocket constructor for the current runtime.\r\n     *\r\n     * @example\r\n     * ```ts\r\n     * const WS = WebSocketFactory.getWebSocketConstructor()\r\n     * const socket = new WS('wss://realtime.supabase.co/socket')\r\n     * ```\r\n     */\r\n    static getWebSocketConstructor() {\r\n        const env = this.detectEnvironment();\r\n        if (env.constructor) {\r\n            return env.constructor;\r\n        }\r\n        let errorMessage = env.error || 'WebSocket not supported in this environment.';\r\n        if (env.workaround) {\r\n            errorMessage += `\\n\\nSuggested solution: ${env.workaround}`;\r\n        }\r\n        throw new Error(errorMessage);\r\n    }\r\n    /**\r\n     * Creates a WebSocket using the detected constructor.\r\n     *\r\n     * @example\r\n     * ```ts\r\n     * const socket = WebSocketFactory.createWebSocket('wss://realtime.supabase.co/socket')\r\n     * ```\r\n     */\r\n    static createWebSocket(url, protocols) {\r\n        const WS = this.getWebSocketConstructor();\r\n        return new WS(url, protocols);\r\n    }\r\n    /**\r\n     * Detects whether the runtime can establish WebSocket connections.\r\n     *\r\n     * @example\r\n     * ```ts\r\n     * if (!WebSocketFactory.isWebSocketSupported()) {\r\n     *   console.warn('Falling back to long polling')\r\n     * }\r\n     * ```\r\n     */\r\n    static isWebSocketSupported() {\r\n        try {\r\n            const env = this.detectEnvironment();\r\n            return env.type === 'native' || env.type === 'ws';\r\n        }\r\n        catch (_a) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\nexports.WebSocketFactory = WebSocketFactory;\r\nexports.default = WebSocketFactory;\r\n//# sourceMappingURL=websocket-factory.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js"]],"~:properties",["^5",["__esModule","error","value","workaround","type","WebSocketFactory","default","constructor"]],"~:compiled-at",1771869280840,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$supabase$realtime_js$dist$main$lib$websocket_factory.js\",\n\"lineCount\":5,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@supabase/realtime-js/dist/main/lib/websocket-factory.js\"],\n\"sourcesContent\":[\"shadow$provide[20] = function(require,module,exports,global) {\\n\\\"use strict\\\";\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nexports.WebSocketFactory = void 0;\\r\\n/**\\r\\n * Utilities for creating WebSocket instances across runtimes.\\r\\n */\\r\\nclass WebSocketFactory {\\r\\n    /**\\r\\n     * Static-only utility \\u2013 prevent instantiation.\\r\\n     */\\r\\n    constructor() { }\\r\\n    static detectEnvironment() {\\r\\n        var _a;\\r\\n        if (typeof WebSocket !== 'undefined') {\\r\\n            return { type: 'native', constructor: WebSocket };\\r\\n        }\\r\\n        if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\\r\\n            return { type: 'native', constructor: globalThis.WebSocket };\\r\\n        }\\r\\n        if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\\r\\n            return { type: 'native', constructor: global.WebSocket };\\r\\n        }\\r\\n        if (typeof globalThis !== 'undefined' &&\\r\\n            typeof globalThis.WebSocketPair !== 'undefined' &&\\r\\n            typeof globalThis.WebSocket === 'undefined') {\\r\\n            return {\\r\\n                type: 'cloudflare',\\r\\n                error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\\r\\n                workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.',\\r\\n            };\\r\\n        }\\r\\n        if ((typeof globalThis !== 'undefined' && globalThis.EdgeRuntime) ||\\r\\n            (typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.includes('Vercel-Edge')))) {\\r\\n            return {\\r\\n                type: 'unsupported',\\r\\n                error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\\r\\n                workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.',\\r\\n            };\\r\\n        }\\r\\n        // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\\r\\n        const _process = globalThis['process'];\\r\\n        if (_process) {\\r\\n            const processVersions = _process['versions'];\\r\\n            if (processVersions && processVersions['node']) {\\r\\n                // Remove 'v' prefix if present and parse the major version\\r\\n                const versionString = processVersions['node'];\\r\\n                const nodeVersion = parseInt(versionString.replace(/^v/, '').split('.')[0]);\\r\\n                // Node.js 22+ should have native WebSocket\\r\\n                if (nodeVersion >= 22) {\\r\\n                    // Check if native WebSocket is available (should be in Node.js 22+)\\r\\n                    if (typeof globalThis.WebSocket !== 'undefined') {\\r\\n                        return { type: 'native', constructor: globalThis.WebSocket };\\r\\n                    }\\r\\n                    // If not available, user needs to provide it\\r\\n                    return {\\r\\n                        type: 'unsupported',\\r\\n                        error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\\r\\n                        workaround: 'Provide a WebSocket implementation via the transport option.',\\r\\n                    };\\r\\n                }\\r\\n                // Node.js < 22 doesn't have native WebSocket\\r\\n                return {\\r\\n                    type: 'unsupported',\\r\\n                    error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\\r\\n                    workaround: 'For Node.js < 22, install \\\"ws\\\" package and provide it via the transport option:\\\\n' +\\r\\n                        'import ws from \\\"ws\\\"\\\\n' +\\r\\n                        'new RealtimeClient(url, { transport: ws })',\\r\\n                };\\r\\n            }\\r\\n        }\\r\\n        return {\\r\\n            type: 'unsupported',\\r\\n            error: 'Unknown JavaScript runtime without WebSocket support.',\\r\\n            workaround: \\\"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\\\",\\r\\n        };\\r\\n    }\\r\\n    /**\\r\\n     * Returns the best available WebSocket constructor for the current runtime.\\r\\n     *\\r\\n     * @example\\r\\n     * ```ts\\r\\n     * const WS = WebSocketFactory.getWebSocketConstructor()\\r\\n     * const socket = new WS('wss://realtime.supabase.co/socket')\\r\\n     * ```\\r\\n     */\\r\\n    static getWebSocketConstructor() {\\r\\n        const env = this.detectEnvironment();\\r\\n        if (env.constructor) {\\r\\n            return env.constructor;\\r\\n        }\\r\\n        let errorMessage = env.error || 'WebSocket not supported in this environment.';\\r\\n        if (env.workaround) {\\r\\n            errorMessage += `\\\\n\\\\nSuggested solution: ${env.workaround}`;\\r\\n        }\\r\\n        throw new Error(errorMessage);\\r\\n    }\\r\\n    /**\\r\\n     * Creates a WebSocket using the detected constructor.\\r\\n     *\\r\\n     * @example\\r\\n     * ```ts\\r\\n     * const socket = WebSocketFactory.createWebSocket('wss://realtime.supabase.co/socket')\\r\\n     * ```\\r\\n     */\\r\\n    static createWebSocket(url, protocols) {\\r\\n        const WS = this.getWebSocketConstructor();\\r\\n        return new WS(url, protocols);\\r\\n    }\\r\\n    /**\\r\\n     * Detects whether the runtime can establish WebSocket connections.\\r\\n     *\\r\\n     * @example\\r\\n     * ```ts\\r\\n     * if (!WebSocketFactory.isWebSocketSupported()) {\\r\\n     *   console.warn('Falling back to long polling')\\r\\n     * }\\r\\n     * ```\\r\\n     */\\r\\n    static isWebSocketSupported() {\\r\\n        try {\\r\\n            const env = this.detectEnvironment();\\r\\n            return env.type === 'native' || env.type === 'ws';\\r\\n        }\\r\\n        catch (_a) {\\r\\n            return false;\\r\\n        }\\r\\n    }\\r\\n}\\r\\nexports.WebSocketFactory = WebSocketFactory;\\r\\nexports.default = WebSocketFactory;\\r\\n//# sourceMappingURL=websocket-factory.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"require\",\"module\",\"exports\",\"global\",\"Object\",\"defineProperty\",\"value\",\"WebSocketFactory\",\"constructor\",\"detectEnvironment\",\"_a\",\"WebSocket\",\"type\",\"globalThis\",\"WebSocketPair\",\"error\",\"workaround\",\"EdgeRuntime\",\"navigator\",\"userAgent\",\"includes\",\"_process\",\"processVersions\",\"nodeVersion\",\"parseInt\",\"versionString\",\"replace\",\"split\",\"getWebSocketConstructor\",\"env\",\"errorMessage\",\"Error\",\"createWebSocket\",\"url\",\"protocols\",\"WS\",\"isWebSocketSupported\",\"default\"]\n}\n"]