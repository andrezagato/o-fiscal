["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@supabase/realtime-js/dist/main/lib/websocket-factory.js"],"~:js","shadow$provide[20]=function(S,ka,a,I){Object.defineProperty(a,\"__esModule\",{value:!0});a.WebSocketFactory=void 0;class q{constructor(){}static detectEnvironment(){var D;return typeof WebSocket!==\"undefined\"?{type:\"native\",constructor:WebSocket}:typeof globalThis!==\"undefined\"&&typeof globalThis.WebSocket!==\"undefined\"?{type:\"native\",constructor:globalThis.WebSocket}:typeof I!==\"undefined\"&&typeof I.WebSocket!==\"undefined\"?{type:\"native\",constructor:I.WebSocket}:typeof globalThis!==\"undefined\"&&typeof globalThis.WebSocketPair!==\n\"undefined\"&&typeof globalThis.WebSocket===\"undefined\"?{type:\"cloudflare\",error:\"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.\",workaround:\"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.\"}:typeof globalThis!==\"undefined\"&&globalThis.EdgeRuntime||typeof navigator!==\"undefined\"&&((D=navigator.userAgent)===null||D===void 0?0:D.includes(\"Vercel-Edge\"))?{type:\"unsupported\",error:\"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.\",\nworkaround:\"Use serverless functions or a different deployment target for WebSocket functionality.\"}:(D=globalThis.process)&&(D=D.versions)&&D.node?(D=parseInt(D.node.replace(/^v/,\"\").split(\".\")[0]),D>=22?typeof globalThis.WebSocket!==\"undefined\"?{type:\"native\",constructor:globalThis.WebSocket}:{type:\"unsupported\",error:`Node.js ${D} detected but native WebSocket not found.`,workaround:\"Provide a WebSocket implementation via the transport option.\"}:{type:\"unsupported\",error:`Node.js ${D} detected without native WebSocket support.`,\nworkaround:'For Node.js \\x3c 22, install \"ws\" package and provide it via the transport option:\\nimport ws from \"ws\"\\nnew RealtimeClient(url, { transport: ws })'}):{type:\"unsupported\",error:\"Unknown JavaScript runtime without WebSocket support.\",workaround:\"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\"}}static getWebSocketConstructor(){const D=this.detectEnvironment();if(D.constructor)return D.constructor;let C=D.error||\"WebSocket not supported in this environment.\";\nD.workaround&&(C+=`\\n\\nSuggested solution: ${D.workaround}`);throw Error(C);}static createWebSocket(D,C){return new (this.getWebSocketConstructor())(D,C)}static isWebSocketSupported(){try{const D=this.detectEnvironment();return D.type===\"native\"||D.type===\"ws\"}catch(D){return!1}}}a.WebSocketFactory=q;a.default=q}","~:source","shadow$provide[20] = function(require,module,exports,global) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebSocketFactory = void 0;\n/**\n * Utilities for creating WebSocket instances across runtimes.\n */\nclass WebSocketFactory {\n    /**\n     * Static-only utility â€“ prevent instantiation.\n     */\n    constructor() { }\n    static detectEnvironment() {\n        var _a;\n        if (typeof WebSocket !== 'undefined') {\n            return { type: 'native', constructor: WebSocket };\n        }\n        if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\n            return { type: 'native', constructor: globalThis.WebSocket };\n        }\n        if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\n            return { type: 'native', constructor: global.WebSocket };\n        }\n        if (typeof globalThis !== 'undefined' &&\n            typeof globalThis.WebSocketPair !== 'undefined' &&\n            typeof globalThis.WebSocket === 'undefined') {\n            return {\n                type: 'cloudflare',\n                error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\n                workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.',\n            };\n        }\n        if ((typeof globalThis !== 'undefined' && globalThis.EdgeRuntime) ||\n            (typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.includes('Vercel-Edge')))) {\n            return {\n                type: 'unsupported',\n                error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\n                workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.',\n            };\n        }\n        // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\n        const _process = globalThis['process'];\n        if (_process) {\n            const processVersions = _process['versions'];\n            if (processVersions && processVersions['node']) {\n                // Remove 'v' prefix if present and parse the major version\n                const versionString = processVersions['node'];\n                const nodeVersion = parseInt(versionString.replace(/^v/, '').split('.')[0]);\n                // Node.js 22+ should have native WebSocket\n                if (nodeVersion >= 22) {\n                    // Check if native WebSocket is available (should be in Node.js 22+)\n                    if (typeof globalThis.WebSocket !== 'undefined') {\n                        return { type: 'native', constructor: globalThis.WebSocket };\n                    }\n                    // If not available, user needs to provide it\n                    return {\n                        type: 'unsupported',\n                        error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\n                        workaround: 'Provide a WebSocket implementation via the transport option.',\n                    };\n                }\n                // Node.js < 22 doesn't have native WebSocket\n                return {\n                    type: 'unsupported',\n                    error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\n                    workaround: 'For Node.js < 22, install \"ws\" package and provide it via the transport option:\\n' +\n                        'import ws from \"ws\"\\n' +\n                        'new RealtimeClient(url, { transport: ws })',\n                };\n            }\n        }\n        return {\n            type: 'unsupported',\n            error: 'Unknown JavaScript runtime without WebSocket support.',\n            workaround: \"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\",\n        };\n    }\n    /**\n     * Returns the best available WebSocket constructor for the current runtime.\n     *\n     * @example\n     * ```ts\n     * const WS = WebSocketFactory.getWebSocketConstructor()\n     * const socket = new WS('wss://realtime.supabase.co/socket')\n     * ```\n     */\n    static getWebSocketConstructor() {\n        const env = this.detectEnvironment();\n        if (env.constructor) {\n            return env.constructor;\n        }\n        let errorMessage = env.error || 'WebSocket not supported in this environment.';\n        if (env.workaround) {\n            errorMessage += `\\n\\nSuggested solution: ${env.workaround}`;\n        }\n        throw new Error(errorMessage);\n    }\n    /**\n     * Creates a WebSocket using the detected constructor.\n     *\n     * @example\n     * ```ts\n     * const socket = WebSocketFactory.createWebSocket('wss://realtime.supabase.co/socket')\n     * ```\n     */\n    static createWebSocket(url, protocols) {\n        const WS = this.getWebSocketConstructor();\n        return new WS(url, protocols);\n    }\n    /**\n     * Detects whether the runtime can establish WebSocket connections.\n     *\n     * @example\n     * ```ts\n     * if (!WebSocketFactory.isWebSocketSupported()) {\n     *   console.warn('Falling back to long polling')\n     * }\n     * ```\n     */\n    static isWebSocketSupported() {\n        try {\n            const env = this.detectEnvironment();\n            return env.type === 'native' || env.type === 'ws';\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n}\nexports.WebSocketFactory = WebSocketFactory;\nexports.default = WebSocketFactory;\n//# sourceMappingURL=websocket-factory.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$shadow.js"]],"~:properties",["^5",["__esModule","error","value","workaround","type","WebSocketFactory","default","constructor"]],"~:compiled-at",1771991938817,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$supabase$realtime_js$dist$main$lib$websocket_factory.js\",\n\"lineCount\":5,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@supabase/realtime-js/dist/main/lib/websocket-factory.js\"],\n\"sourcesContent\":[\"shadow$provide[20] = function(require,module,exports,global) {\\n\\\"use strict\\\";\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.WebSocketFactory = void 0;\\n/**\\n * Utilities for creating WebSocket instances across runtimes.\\n */\\nclass WebSocketFactory {\\n    /**\\n     * Static-only utility \\u2013 prevent instantiation.\\n     */\\n    constructor() { }\\n    static detectEnvironment() {\\n        var _a;\\n        if (typeof WebSocket !== 'undefined') {\\n            return { type: 'native', constructor: WebSocket };\\n        }\\n        if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\\n            return { type: 'native', constructor: globalThis.WebSocket };\\n        }\\n        if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\\n            return { type: 'native', constructor: global.WebSocket };\\n        }\\n        if (typeof globalThis !== 'undefined' &&\\n            typeof globalThis.WebSocketPair !== 'undefined' &&\\n            typeof globalThis.WebSocket === 'undefined') {\\n            return {\\n                type: 'cloudflare',\\n                error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\\n                workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.',\\n            };\\n        }\\n        if ((typeof globalThis !== 'undefined' && globalThis.EdgeRuntime) ||\\n            (typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === void 0 ? void 0 : _a.includes('Vercel-Edge')))) {\\n            return {\\n                type: 'unsupported',\\n                error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\\n                workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.',\\n            };\\n        }\\n        // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\\n        const _process = globalThis['process'];\\n        if (_process) {\\n            const processVersions = _process['versions'];\\n            if (processVersions && processVersions['node']) {\\n                // Remove 'v' prefix if present and parse the major version\\n                const versionString = processVersions['node'];\\n                const nodeVersion = parseInt(versionString.replace(/^v/, '').split('.')[0]);\\n                // Node.js 22+ should have native WebSocket\\n                if (nodeVersion >= 22) {\\n                    // Check if native WebSocket is available (should be in Node.js 22+)\\n                    if (typeof globalThis.WebSocket !== 'undefined') {\\n                        return { type: 'native', constructor: globalThis.WebSocket };\\n                    }\\n                    // If not available, user needs to provide it\\n                    return {\\n                        type: 'unsupported',\\n                        error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\\n                        workaround: 'Provide a WebSocket implementation via the transport option.',\\n                    };\\n                }\\n                // Node.js < 22 doesn't have native WebSocket\\n                return {\\n                    type: 'unsupported',\\n                    error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\\n                    workaround: 'For Node.js < 22, install \\\"ws\\\" package and provide it via the transport option:\\\\n' +\\n                        'import ws from \\\"ws\\\"\\\\n' +\\n                        'new RealtimeClient(url, { transport: ws })',\\n                };\\n            }\\n        }\\n        return {\\n            type: 'unsupported',\\n            error: 'Unknown JavaScript runtime without WebSocket support.',\\n            workaround: \\\"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\\\",\\n        };\\n    }\\n    /**\\n     * Returns the best available WebSocket constructor for the current runtime.\\n     *\\n     * @example\\n     * ```ts\\n     * const WS = WebSocketFactory.getWebSocketConstructor()\\n     * const socket = new WS('wss://realtime.supabase.co/socket')\\n     * ```\\n     */\\n    static getWebSocketConstructor() {\\n        const env = this.detectEnvironment();\\n        if (env.constructor) {\\n            return env.constructor;\\n        }\\n        let errorMessage = env.error || 'WebSocket not supported in this environment.';\\n        if (env.workaround) {\\n            errorMessage += `\\\\n\\\\nSuggested solution: ${env.workaround}`;\\n        }\\n        throw new Error(errorMessage);\\n    }\\n    /**\\n     * Creates a WebSocket using the detected constructor.\\n     *\\n     * @example\\n     * ```ts\\n     * const socket = WebSocketFactory.createWebSocket('wss://realtime.supabase.co/socket')\\n     * ```\\n     */\\n    static createWebSocket(url, protocols) {\\n        const WS = this.getWebSocketConstructor();\\n        return new WS(url, protocols);\\n    }\\n    /**\\n     * Detects whether the runtime can establish WebSocket connections.\\n     *\\n     * @example\\n     * ```ts\\n     * if (!WebSocketFactory.isWebSocketSupported()) {\\n     *   console.warn('Falling back to long polling')\\n     * }\\n     * ```\\n     */\\n    static isWebSocketSupported() {\\n        try {\\n            const env = this.detectEnvironment();\\n            return env.type === 'native' || env.type === 'ws';\\n        }\\n        catch (_a) {\\n            return false;\\n        }\\n    }\\n}\\nexports.WebSocketFactory = WebSocketFactory;\\nexports.default = WebSocketFactory;\\n//# sourceMappingURL=websocket-factory.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"require\",\"module\",\"exports\",\"global\",\"Object\",\"defineProperty\",\"value\",\"WebSocketFactory\",\"constructor\",\"detectEnvironment\",\"_a\",\"WebSocket\",\"type\",\"globalThis\",\"WebSocketPair\",\"error\",\"workaround\",\"EdgeRuntime\",\"navigator\",\"userAgent\",\"includes\",\"_process\",\"processVersions\",\"nodeVersion\",\"parseInt\",\"versionString\",\"replace\",\"split\",\"getWebSocketConstructor\",\"env\",\"errorMessage\",\"Error\",\"createWebSocket\",\"url\",\"protocols\",\"WS\",\"isWebSocketSupported\",\"default\"]\n}\n"]